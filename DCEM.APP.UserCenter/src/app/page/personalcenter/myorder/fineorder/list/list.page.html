<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button text="返回" defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>{{model.title}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list lines="none">
    <ion-card *ngFor="let item of model.datalist" style="margin: 10px;">
      <ion-card-content>
        <ion-item lines="full">
          <ion-label>
              <p>{{item.OrderData.OrderTime}}</p>
          </ion-label>
          <ion-note slot="end" style="color:orange">
              {{item.OrderData.PayStatusStr}}
          </ion-note>
        </ion-item>
        <ion-item *ngFor="let v of item.Products" lines="full">
            <div *ngIf="v.ImageUrl != null; then trueTemplate else falseTemplate"></div>
            <ng-template #trueTemplate>
                <ion-label>
                    <img src="{{v.ImageUrl}}" style="width:100%">
                </ion-label>
            </ng-template>
            <ng-template #falseTemplate>
                <ion-label>
                    <img src="../../../../../../assets/img/temp/xiaopeng1.jpg" style="width:100%">
                </ion-label>
            </ng-template>
          <ion-label>
              <h2>{{v.ProductName}}</h2>
            <p>红色</p>
            <p>￥{{v.UnitPrice}}*{{v.OrderQty}}</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-label><h2>合计:￥{{item.OrderData.TotalDeposiAmount}}</h2></ion-label>
            <div *ngIf="item.OrderData.PaymentStatus == 1; then tTemplate else fTemplate"></div>
            <ng-template #tTemplate>
                <ion-note slot="end" (click)="goPay(item.OrderCode,item.TotalDeposiAmount)">
                    <ion-chip color="primary">
                        <ion-label style="margin-left: 30px;margin-right: 30px;">去支付</ion-label>
                    </ion-chip>
                </ion-note>
            </ng-template>
            <ng-template #fTemplate>
                <ion-note slot="end">
                    <ion-chip color="primary">
                        <ion-label style="margin-left: 30px;margin-right: 30px;">查看详情</ion-label>
                    </ion-chip>
                </ion-note>
            </ng-template>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </ion-list>
</ion-content>