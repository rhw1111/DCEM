<ion-item *ngIf="disstatus!=7" lines="none" style="border-bottom: 1px solid #484848;">
  <ion-label style="margin-top: 12px">
    <img src="../assets/img/close.png" style="width: 20px;" (click)="onReturn(false)">
    <ion-label style="text-align:center;margin-top:-23px">
      {{title}}
    </ion-label>
  </ion-label>
</ion-item>
<!-- 用户登陆页面 -->
<ion-content *ngIf="disstatus==1">
  <ion-card-header style="margin-bottom: 20px;">
    <ion-card-title style="height: 50px;"> 您好，</ion-card-title>
    <ion-card-subtitle class="loginsubtitle"> 欢迎来到车联网DEMO</ion-card-subtitle>
  </ion-card-header>

  <ion-toolbar>
    <ion-segment [(ngModel)]="tab" color="primary" model="md">
      <ion-segment-button value="account">
        <ion-label>账号登陆</ion-label>
      </ion-segment-button>
      <ion-segment-button value="phone">
        <ion-label>电话号码登陆</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

  <div [ngSwitch]="tab">
    <div *ngSwitchCase="'account'">
      <ion-card-content>
        <ion-item>
          <ion-input type="text" placeholder="输入您的账号" [(ngModel)]="mod.model.account"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input type="password" placeholder="输入您的密码" [(ngModel)]="mod.model.pwd"></ion-input>
        </ion-item>

      </ion-card-content>
      <div class="ion-padding">
        <ion-button expand="block" type="button" (click)="onLogin()"
          class="ion-no-margin ios button button-block button-solid ion-activatable ion-focusable hydrated">
          登陆
        </ion-button>
      </div>
    </div>
    <div *ngSwitchCase="'phone'">
      <ion-card-content>
        <ion-item>
          <ion-input type="tel" maxlength="11" placeholder="输入您的电话号码" [(ngModel)]="mod.model.account"></ion-input>
        </ion-item>
        <ion-item lines="none" class="loginfontsize09" *ngIf="valmsg">
          <ion-label color="danger">
            验证信息
          </ion-label>
        </ion-item>
      </ion-card-content>
      <div class="ion-padding">
        <ion-button expand="block" type="button" (click)="onSendMsg(2)"
          class="ion-no-margin ios button button-block button-solid ion-activatable ion-focusable hydrated">
          获取验证码
        </ion-button>
      </div>
    </div>
  </div>
  <ion-item lines="none">
    <ion-label style="text-align: left; margin-top: 0px;font-size: 0.9rem;">
      <input type="button" class="logina" (click)="onReg(2)" value="注册" />

    </ion-label>
    <ion-label style="text-align: right; margin-top: 0px;font-size: 0.9rem;">
      <input type="button" class="logina" (click)="OnPwdReset()" value="忘记密码?" />
    </ion-label>
  </ion-item>
</ion-content>


<!-- 注册电话号码页面 -->
<ion-content *ngIf="disstatus==3">
  <ion-card-header style="margin-bottom: 50px;">
    <ion-card-title style="height: 50px;"> 您好，</ion-card-title>
    <ion-card-subtitle class="loginsubtitle"> 欢迎来到车联网DEMO</ion-card-subtitle>
  </ion-card-header>

  <ion-card-content>
    <ion-card-content>
      <ion-item>
        <ion-input type="tel" maxlength="11" placeholder="输入您的电话号码" [(ngModel)]="mod.model.account"></ion-input>
      </ion-item>
      <ion-item lines="none" class="loginfontsize09" *ngIf="valmsg">
        <ion-label color="danger">
          验证信息
        </ion-label>
      </ion-item>
    </ion-card-content>

    <div class="ion-padding loginx">
      <ion-label>
        获取验证码视为您已阅读
        <input type="button" class="logina" value=" 《用户协议》" />
        与
        <input type="button" class="logina" value="《隐私协议》" />
      </ion-label>
    </div>
    <div class="ion-padding">
      <ion-button expand="block" type="button" (click)="onSendMsg(5)"
        class="ion-no-margin ios button button-block button-solid ion-activatable ion-focusable hydrated">
        获取验证码
      </ion-button>
    </div>

  </ion-card-content>
</ion-content>


<!-- 验证码输入页面 -->
<ion-content *ngIf="disstatus==2 || disstatus==5 ">
  <ion-card-header style="margin-bottom: 50px;">
    <ion-card-title style="height: 50px;"> 您好，</ion-card-title>
    <ion-card-subtitle class="loginsubtitle"> 欢迎来到车联网DEMO</ion-card-subtitle>
  </ion-card-header>

  <ion-card-content>
    <ion-item lines="none" class="loginfontsize09">
      <ion-label>
        已发送验证码至 {{mod.model.account}}
      </ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-row>
        <ion-col>
          <input type="number" class="loginvalinput" maxlength="1" [(ngModel)]="mod.val1" id="inputcode1"
            (focus)="mod.val1=''" (ngModelChange)="OnNextFocus(2)" />
        </ion-col>
        <ion-col>
          <input type="number" class="loginvalinput" maxlength="1" [(ngModel)]="mod.val2" id="inputcode2"
            (focus)="mod.val2=''" (ngModelChange)="OnNextFocus(3)" />
        </ion-col>
        <ion-col>
          <input type="number" class="loginvalinput" maxlength="1" [(ngModel)]="mod.val3" id="inputcode3"
            (focus)="mod.val3=''" (ngModelChange)="OnNextFocus(4)" />
        </ion-col>
        <ion-col>
          <input type="number" class="loginvalinput" maxlength="1" [(ngModel)]="mod.val4" id="inputcode4"
            (ngModelChange)="OnVlaCodeChange()" />
        </ion-col>
      </ion-row>
    </ion-item>
  </ion-card-content>
</ion-content>
<ion-footer class="loginfooter" *ngIf="disstatus!=4 && disstatus!=6  && disstatus!=7">
  <ion-item lines="none" style="text-align:center;    color: #a0a0a0;">
    <ion-label>其它登陆方式</ion-label>
  </ion-item>
  <ion-toolbar>
    <ion-title>
      <img src="../assets/img/wechat.png" style="width: 35px;">
    </ion-title>
  </ion-toolbar>
</ion-footer>



<!-- 注册内容输入界面（未注册用户） -->
<ion-content *ngIf="disstatus==4">
  <ion-card-content>
    <ion-item style="font-size: 1rem;">
      <ion-row style="width: 100%;">
        <ion-col size="2">
          <ion-label style="line-height: 40px;">昵称</ion-label>
        </ion-col>
        <ion-col size="10">
          <ion-input placeholder="昵称" [(ngModel)]="mod.model.name"></ion-input>
        </ion-col>
      </ion-row>
    </ion-item>

    <ion-item style="font-size: 1rem;">
      <ion-row style="width: 100%;">
        <ion-col size="2">
          <ion-label style="line-height: 40px;">密码</ion-label>
        </ion-col>
        <ion-col size="10">
          <ion-input type="password" placeholder="密码" [(ngModel)]="mod.model.pwd"></ion-input>
        </ion-col>
      </ion-row>
    </ion-item>
  </ion-card-content>
  <ion-card-header>
    <ion-card-title>安全问题</ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <ion-item style="font-size: 1rem;">
      <ion-select [(ngModel)]="mod.model.quest1" style="width: 100%;max-width: 100%;" okText="确认" cancelText="取消">
        <ion-select-option value="">安全问题选择</ion-select-option>
        <ion-select-option *ngFor="let item of  mod.questiondata;let key=index"
          [value]="item['mcs_securityquestionid']">
          {{item['mcs_name']}}
        </ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item style="font-size: 1rem;">
      <ion-input type="text" [(ngModel)]="mod.model.quest1value" placeholder="回答"></ion-input>
    </ion-item>
    <ion-item style="font-size: 1rem;">
      <ion-select [(ngModel)]="mod.model.quest2" style="width: 100%;max-width: 100%;" okText="确认" cancelText="取消">
        <ion-select-option value="">安全问题选择</ion-select-option>
        <ion-select-option *ngFor="let item of  mod.questiondata;let key=index"
          [value]="item['mcs_securityquestionid']">
          {{item['mcs_name']}}
        </ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item style="font-size: 1rem;">
      <ion-input type="text" [(ngModel)]="mod.model.quest2value" placeholder="回答"></ion-input>
    </ion-item>
    <ion-item style="font-size: 1rem;">
      <ion-select [(ngModel)]="mod.model.quest3" style="width: 100%;max-width: 100%;" okText="确认" cancelText="取消">
        <ion-select-option value="">安全问题选择</ion-select-option>
        <ion-select-option *ngFor="let item of  mod.questiondata;let key=index"
          [value]="item['mcs_securityquestionid']">
          {{item['mcs_name']}}
        </ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item style="font-size: 1rem;">
      <ion-input type="text" [(ngModel)]="mod.model.quest3value" placeholder="回答"></ion-input>
    </ion-item>
  </ion-card-content>
  <div class="ion-padding">
    <ion-button expand="block" type="button" (click)="onRegPost()"
      class="ion-no-margin ios button button-block button-solid ion-activatable ion-focusable hydrated">
      确定
    </ion-button>
  </div>
</ion-content>



<!-- 忘记密码输入界面 -->
<ion-content *ngIf="disstatus==6">
  <ion-card-header style="margin-bottom: 10%;margin-top: 10%;">
    <ion-card-title style="height: 50px;"> 重置密码，</ion-card-title>
    <ion-card-subtitle class="loginsubtitle"> 验证码发送到您的手机，请输入验证码并创建新密码</ion-card-subtitle>
  </ion-card-header>
  <ion-card-content style="padding-left: 0px;">
    <ion-item style="font-size: 1rem;">
      <ion-row style="width: 100%;">
        <ion-col size="2">
          <img src="../../../../assets/img/phone.png" class="pwdlogo">
        </ion-col>
        <ion-col size="10">
          <ion-input type="tel" maxlength="11" placeholder="手机号码" [(ngModel)]="mod.model.account"></ion-input>
        </ion-col>
      </ion-row>
    </ion-item>
    <ion-item style="font-size: 1rem;">
      <ion-row style="width: 100%;">
        <ion-col size="2">
          <img src="../../../../assets/img/mes.png" class="pwdlogo">
        </ion-col>
        <ion-col size="6">
          <ion-input type="text" placeholder="短信验证码" [(ngModel)]="mod.model.msg"></ion-input>
        </ion-col>
        <ion-col size="4">
          <ion-button expand="block"  ng-color="GetColor()" type="button" (click)="(5)" color="tertiary" >
            {{mod.sendmsgtital}}
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-item>
    <ion-item style="font-size: 1rem;">
      <ion-row style="width: 100%;">
        <ion-col size="2">
          <img src="../../../../assets/img/pwd.png" class="pwdlogo">
        </ion-col>
        <ion-col size="10">
          <ion-input type="password" placeholder="填写新密码" [(ngModel)]="mod.model.pwd"></ion-input>
        </ion-col>
      </ion-row>
    </ion-item>
    <ion-item style="font-size: 1rem;">
      <ion-row style="width: 100%;">
        <ion-col size="2">
          <img src="../../../../assets/img/pwd.png" class="pwdlogo">
        </ion-col>
        <ion-col size="6">
          <ion-input type="password1" placeholder="确定新密码" [(ngModel)]="mod.model.pwd1"></ion-input>
        </ion-col>
      </ion-row>
    </ion-item>
    <ion-row style="width: 100%;">
      <ion-col size="1">
        <img *ngIf="valmsg" src="../../../../assets/img/error.png" style="width:100%;margin-top:10%">
      </ion-col>
      <ion-col size="11">
        <ion-label *ngIf="valmsg" style="color: red;">密码填写不一致</ion-label>
      </ion-col>
    </ion-row>
    <div class="ion-padding">
      <ion-button expand="block" type="button" (click)="onSendMsg(5)"
        class="ion-no-margin ios button button-block button-solid ion-activatable ion-focusable hydrated">
        确定
      </ion-button>
    </div>
  </ion-card-content>
</ion-content>


<!-- 密码重置成功页面 -->
<ion-content *ngIf="disstatus==7"> 
    <img src="../../../../assets/img/bg_suc.jpg" style="position: absolute;left:0px;top:0px;" >
    <img src="../../../../assets/img/bg_suc_img.png"  style="position: absolute;left:0px;top:0px;"> 
  <ion-card-content style="top: 50%;">
    <ion-card-header style="text-align: center;background-color: #ff000000;">
      <ion-card-title style="height: 50px;color:white"> 成功</ion-card-title>
      <ion-card-subtitle class="loginsubtitle" style="color:white"> 您已成功更改密码。登陆时请使用新密码</ion-card-subtitle>
    </ion-card-header> 
    <div class="ion-padding">
      <ion-button  color="light" style="width: 100%;" strong  type="button" (click)="OnLogin()">
        马上登陆
      </ion-button>
    </div>
  </ion-card-content>
</ion-content>