{"version":3,"sources":["./src/app/base/uc.com/login/login.page.html","./src/app/base/uc.com/login/login.module.ts","./src/app/base/uc.com/login/login.page.scss","./src/app/base/uc.com/login/login.page.ts"],"names":[],"mappings":"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","file":"base-uc-com-login-login-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-title>登录</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content fullscreen scroll-y=\\\"false\\\">\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n        <ion-list-header text-center>\\r\\n            <img src=\\\"./assets/img/userhead.png\\\" />\\r\\n        </ion-list-header>\\r\\n        <ion-item>\\r\\n            <ion-icon slot=\\\"start\\\" name=\\\"phone-portrait\\\"></ion-icon>\\r\\n            <ion-input [(ngModel)]=\\\"mod.username\\\" placeholder=\\\"手机号码\\\" no-lines></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n            <ion-icon slot=\\\"start\\\" name=\\\"lock\\\"></ion-icon>\\r\\n            <ion-input [(ngModel)]=\\\"mod.password\\\" type=\\\"password\\\" placeholder=\\\"登录密码\\\"></ion-input>\\r\\n            <ion-toggle slot=\\\"end\\\"></ion-toggle>\\r\\n        </ion-item>\\r\\n        <ion-item color=\\\"none\\\">\\r\\n            <label slot=\\\"end\\\">记住密码</label>\\r\\n            <ion-toggle slot=\\\"end\\\"></ion-toggle>\\r\\n        </ion-item>\\r\\n        <ion-button expand=\\\"block\\\" type=\\\"button\\\" (click)=\\\"submit()\\\">登录</ion-button>\\r\\n    </ion-list>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { LoginPage } from './login.page';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HttpClientModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","module.exports = \"* {\\n  margin: 0px;\\n  padding: 0px; }\\n\\nion-list {\\n  height: 100%;\\n  background-color: #f9f9f9; }\\n\\nion-list ion-list-header {\\n    height: 35%;\\n    text-align: center; }\\n\\nion-list ion-list-header img {\\n      left: 50%;\\n      position: relative;\\n      -webkit-transform: translateX(-50%);\\n              transform: translateX(-50%);\\n      max-width: 50%;\\n      max-height: 50%; }\\n\\nion-list ion-item {\\n    margin-top: 3px;\\n    margin-left: 10px;\\n    margin-right: 10px; }\\n\\nion-list ion-item:nth-child(-n + 3) {\\n    border: 2px solid #e4e4e4; }\\n\\nion-list ion-item:nth-child(-n + 3) ion-icon {\\n      margin-left: -5px;\\n      font-size: 26px;\\n      color: #cccccc; }\\n\\nion-list ion-item:nth-child(-n + 3) ion-input {\\n      border: none; }\\n\\nion-list ion-button {\\n    margin-top: 5px;\\n    margin-left: 25px;\\n    margin-right: 25px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYmFzZS91Yy5jb20vbG9naW4vRTpcXEFwcFByb2plY3RcXERDRU1cXERDRU0uTUFwcC9zcmNcXGFwcFxcYmFzZVxcdWMuY29tXFxsb2dpblxcbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFFZDtFQUNFLFlBQVk7RUFDWix5QkFBb0MsRUFBQTs7QUFGdEM7SUFLSSxXQUFXO0lBQ1gsa0JBQWtCLEVBQUE7O0FBTnRCO01BUU0sU0FBUztNQUNULGtCQUFrQjtNQUNsQixtQ0FBMkI7Y0FBM0IsMkJBQTJCO01BQzNCLGNBQWM7TUFDZCxlQUFlLEVBQUE7O0FBWnJCO0lBZ0JJLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsa0JBQWtCLEVBQUE7O0FBbEJ0QjtJQXNCSSx5QkFBb0MsRUFBQTs7QUF0QnhDO01Bd0JNLGlCQUFpQjtNQUNqQixlQUFlO01BQ2YsY0FBeUIsRUFBQTs7QUExQi9CO01BNkJNLFlBQVksRUFBQTs7QUE3QmxCO0lBaUNJLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9iYXNlL3VjLmNvbS9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIqIHtcclxuICBtYXJnaW46IDBweDtcclxuICBwYWRkaW5nOiAwcHg7XHJcbn1cclxuaW9uLWxpc3Qge1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ5LCAyNDksIDI0OSk7XHJcblxyXG4gIGlvbi1saXN0LWhlYWRlciB7XHJcbiAgICBoZWlnaHQ6IDM1JTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGltZyB7XHJcbiAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XHJcbiAgICAgIG1heC13aWR0aDogNTAlO1xyXG4gICAgICBtYXgtaGVpZ2h0OiA1MCU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlvbi1pdGVtIHtcclxuICAgIG1hcmdpbi10b3A6IDNweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gIH1cclxuXHJcbiAgaW9uLWl0ZW06bnRoLWNoaWxkKC1uICsgMykge1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgcmdiKDIyOCwgMjI4LCAyMjgpO1xyXG4gICAgaW9uLWljb24ge1xyXG4gICAgICBtYXJnaW4tbGVmdDogLTVweDtcclxuICAgICAgZm9udC1zaXplOiAyNnB4O1xyXG4gICAgICBjb2xvcjogcmdiKDIwNCwgMjA0LCAyMDQpO1xyXG4gICAgfVxyXG4gICAgaW9uLWlucHV0IHtcclxuICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgfVxyXG4gIH1cclxuICBpb24tYnV0dG9uIHtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAyNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyNXB4O1xyXG4gIH1cclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, LoadingController, NavController } from '@ionic/angular';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\n\r\n\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.page.html',\r\n    styleUrls: ['./login.page.scss'],\r\n})\r\n\r\n\r\nexport class LoginPage implements OnInit {\r\n\r\n    // 定义控制器\r\n    constructor(\r\n        private alertCtr: AlertController,\r\n        private loadingCtr: LoadingController,\r\n        private navCtr: NavController,\r\n        private httpClient: HttpClient,\r\n    ) {\r\n    }\r\n    // 定义模型\r\n    mod = {\r\n        username: '',\r\n        password: ''\r\n    };\r\n\r\n    apiurl = '';\r\n\r\n    // 初始化\r\n    ngOnInit() {\r\n        // 加入测试参数\r\n        this.mod.username = 'subdevcrmadmin';\r\n        this.mod.password = 'password01#';\r\n        this.apiurl = 'https://subcrmdevapi.sokon.com/dcem/api/Account/GetAuthToken';\r\n    }\r\n\r\n    // 提交\r\n    submit() {\r\n        if (this.mod.username.length <= 0) {\r\n            this.presentAlert('消息提示', '请输入手机号码');\r\n            return;\r\n        }\r\n        if (this.mod.password.length <= 0) {\r\n            this.presentAlert('消息提示', '请输入密码');\r\n            return;\r\n        }\r\n\r\n        this.httpGet();\r\n    }\r\n\r\n    // http请求\r\n    httpGet() {\r\n        const loading = this.loadingCtr.create({ translucent: false });\r\n        loading.then(a => { a.present(); });\r\n        const httpGet = this.httpClient.get(this.apiurl,\r\n            {\r\n                params: {\r\n                    username: encodeURIComponent(this.mod.username),\r\n                    password: encodeURIComponent(this.mod.password)\r\n                }\r\n            });\r\n\r\n        httpGet.subscribe(\r\n            (res: any) => {\r\n                if (res.access_token === null || res.access_token === '') {\r\n                    this.presentAlert('消息提示', '登录认证失败');\r\n                } else {\r\n                    /* this.presentAlert('消息提示', 'token:' + res.access_token);\r\n                    this.presentAlert('消息提示', '登录认证通过'); */\r\n                    this.navCtr.navigateRoot('serving/home/tabs');\r\n                }\r\n                loading.then(a => { a.dismiss(); });\r\n            },\r\n            (err: any) => {\r\n                this.presentAlert('消息提示', '登录认证失败');\r\n                loading.then(a => { a.dismiss(); });\r\n            });\r\n    }\r\n\r\n    // 弹出提示\r\n    presentAlert(header: any, message: any) {\r\n        const alert = this.alertCtr.create({\r\n            header,\r\n            message,\r\n            buttons: ['确定']\r\n        });\r\n        alert.then(a => {\r\n            a.present();\r\n        });\r\n    }\r\n}\r\n"],"sourceRoot":""}