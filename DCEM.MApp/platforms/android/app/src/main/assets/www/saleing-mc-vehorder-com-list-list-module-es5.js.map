{"version":3,"sources":["./src/app/saleing/mc-vehorder.com/list/list.page.html","./src/app/saleing/mc-vehorder.com/list/list.module.ts","./src/app/saleing/mc-vehorder.com/list/list.page.scss","./src/app/saleing/mc-vehorder.com/list/list.page.ts"],"names":[],"mappings":"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","file":"saleing-mc-vehorder-com-list-list-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button text=\\\"返回\\\" defaultHref=\\\"/\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>整车订单</ion-title>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar>\\r\\n      <ion-searchbar [(ngModel)]=\\\"this.model.seachkey\\\" placeholder=\\\"可根据订单编码、姓名、手机号模糊查找\\\" (keyup)=\\\"search($event)\\\" ></ion-searchbar>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar>\\r\\n      <ion-segment>\\r\\n        <ion-segment-button checked (click)=\\\"selectTab(0)\\\">\\r\\n            <ion-label>全部</ion-label>\\r\\n        </ion-segment-button>\\r\\n      \\r\\n        <ion-segment-button (click)=\\\"selectTab(1)\\\">\\r\\n            <ion-label>订金待支付</ion-label>\\r\\n        </ion-segment-button>\\r\\n        <ion-segment-button (click)=\\\"selectTab(2)\\\">\\r\\n            <ion-label>订金已支付</ion-label>\\r\\n        </ion-segment-button>\\r\\n       \\r\\n      </ion-segment>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n        <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" pullingText=\\\"下拉刷新\\\" refreshingSpinner=\\\"circles\\\" refreshingText=\\\"刷新中...\\\">\\r\\n        </ion-refresher-content> \\r\\n    </ion-refresher>\\r\\n    <ion-list lines=\\\"full\\\">\\r\\n        <ion-item *ngFor=\\\"let item of model.datalist\\\" [routerLink]=\\\"['/saleing/vehorder/detail']\\\" [queryParams]=\\\"{id:item.mcs_vehorderid}\\\">          \\r\\n            <ion-icon slot=\\\"start\\\" name=\\\"logo-instagram\\\" size=\\\"large\\\" color=\\\"tertiary\\\"></ion-icon>\\r\\n            <ion-label>\\r\\n                <h2>{{item.mcs_code}}</h2> \\r\\n                <p>{{item.mcs_contactname}}</p>\\r\\n                <p>{{item.mcs_contactphone}}</p>            \\r\\n            </ion-label>\\r\\n           <!--  <ion-note slot=\\\"end\\\" >\\r\\n                 <ion-icon color=\\\"primary\\\" name=\\\"hourglass\\\" size=\\\"small\\\"></ion-icon> \\r\\n                <p>{{item.mcs_code}}</p>    \\r\\n            </ion-note> -->\\r\\n            <ion-note slot=\\\"end\\\" >\\r\\n                <!-- <ion-icon color=\\\"primary\\\" name=\\\"hourglass\\\" size=\\\"small\\\"></ion-icon>  -->\\r\\n                <p>{{item.mcs_rostatus}}</p>   \\r\\n            </ion-note>\\r\\n            \\r\\n        </ion-item>\\r\\n    </ion-list>\\r\\n\\r\\n    <ion-row *ngIf=\\\"model.isending\\\">\\r\\n        <ion-col class=\\\"nodata\\\" text-center>\\r\\n            <label>没有更多内容啦</label>\\r\\n        </ion-col>\\r\\n    </ion-row>\\r\\n    \\r\\n    <ion-infinite-scroll #myInfiniteScroll threshold=\\\"100px\\\" (ionInfinite)=\\\"doLoading($event)\\\"> \\r\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"加载更多...\\\"> \\r\\n        </ion-infinite-scroll-content>\\r\\n    </ion-infinite-scroll>\\r\\n  \\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ListPage } from './list.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ListPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [ListPage]\r\n})\r\nexport class ListPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NhbGVpbmcvbWMtdmVob3JkZXIuY29tL2xpc3QvbGlzdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit,ViewChild } from '@angular/core';\r\nimport { HttpService } from '../../../base/base.ser/http-service.service';\r\nimport { DCore_Http, DCore_Page } from 'app/base/base.ser/Dcem.core';\r\nimport { IonInfiniteScroll } from '@ionic/angular';\r\nimport { OptionSetService } from '../../saleing.ser/optionset.service';\r\n\r\n@Component({\r\n  selector: 'app-list',\r\n  templateUrl: './list.page.html',\r\n  styleUrls: ['./list.page.scss'],\r\n})\r\nexport class ListPage implements OnInit {\r\n  @ViewChild(IonInfiniteScroll,null) infiniteScroll: IonInfiniteScroll;\r\n\r\n  public model: any = {\r\n    name: 'vehorderlist',//模块实体名称\r\n    apiUrl: '/api/vehorder/GetVehorderList',//请求地址\r\n    seachkey: '',//搜索关键字\r\n    mcs_rostatus: 0,//订单状态\r\n    pageSize: 10,//页数\r\n    page: 1,//分页\r\n    sort: '',//排序的参数\r\n    isending: false,//是否加载完成\r\n    datalist: []//列表数据\r\n};\r\n\r\n  constructor(\r\n    private _http: DCore_Http,\r\n    private _page: DCore_Page,\r\n    private httpService: HttpService,\r\n    private optionset:OptionSetService\r\n    ) {}\r\n\r\n  ngOnInit() {\r\n    this.model.page = 1;\r\n    this.getList(null);\r\n  }\r\n\r\n\r\n  //搜索方法\r\n  search(event) {\r\n    var keyCode = event ? event.keyCode : \"\";\r\n    if (keyCode == 13) {\r\n        this.model.datalist = [];\r\n        this.model.page = 1;\r\n        this.model.isending = false;\r\n        this.getList(null);\r\n    }\r\n}\r\n\r\n//下拉刷新\r\ndoRefresh(event) {\r\n    this.model.datalist = [];\r\n    this.model.page = 1;\r\n    this.model.isending = false;\r\n    this.getList(event);\r\n}\r\n//加载下一页\r\ndoLoading(event) {\r\n    this.model.page++;\r\n    this.getList(event);\r\n}\r\n//切换tab\r\nselectTab(status) {\r\n    this.infiniteScroll.disabled = false;//切换标签初始化下拉控件事件\r\n    this.model.datalist = [];\r\n    this.model.page = 1;\r\n    this.model.isending = false;\r\n    if (status != \"\" && status != undefined) {\r\n        this.model.mcs_rostatus = status;\r\n    }\r\n    else {\r\n        this.model.mcs_rostatus = 0;\r\n    }\r\n    this.getList(null);\r\n}\r\n\r\n //获取列表数据\r\n getList(event) {\r\n  //debugger;\r\n  this._page.loadingShow();\r\n  this._http.get(this.model.apiUrl,\r\n      {\r\n          params: {\r\n              mcs_rostatus: this.model.mcs_rostatus,\r\n              seachkey: this.model.seachkey,\r\n              sort: this.model.sort,\r\n              pageSize: this.model.pageSize,\r\n              page: this.model.page,\r\n          }\r\n      },\r\n      (res: any) => {\r\n         //debugger;\r\n          if (res.Results !== null) {\r\n              //绑定数据\r\n              res.Results.forEach(item => {              \r\n                  var obj = {}; \r\n                  obj[\"mcs_vehorderid\"] = item[\"Attributes\"].mcs_vehorderid;             \r\n                  obj[\"mcs_contactname\"] = item[\"Attributes\"].mcs_contactname;\r\n                  obj[\"mcs_contactphone\"] = item[\"Attributes\"].mcs_contactphone;\r\n                  obj[\"mcs_code\"] = item[\"Attributes\"].mcs_code;                    \r\n                  obj[\"mcs_rostatus\"] =this.optionset.GetOptionSetNameByValue(\"mcs_rostatus\",item[\"Attributes\"].mcs_rostatus);              \r\n                  this.model.datalist.push(obj);\r\n\r\n              });\r\n              //设置数据存储到本地\r\n              if (this.model.page == 1) {\r\n                  this.httpService.SetDataCache(this.model.name, JSON.stringify(this.model.datalist).toString());\r\n              }\r\n              event ? event.target.complete() : '';\r\n              //判断是否有新数据\r\n              if (res.Results.length < this.model.pageSize) {\r\n                  event ? event.target.disabled = true : \"\";\r\n                  this.model.isending = true;\r\n              }\r\n          }\r\n          else {\r\n              this._page.alert(\"消息提示\", \"数据加载异常\");\r\n          }\r\n          this._page.loadingHide();\r\n      },\r\n      (err: any) => {\r\n          this._page.alert(\"消息提示\", \"数据加载异常\");\r\n          this._page.loadingHide();\r\n      }\r\n  );\r\n}\r\n\r\n}\r\n"],"sourceRoot":""}