{"version":3,"sources":["./src/app/base/uc.com/login/login.page.html","./src/app/base/uc.com/login/login.module.ts","./src/app/base/uc.com/login/login.page.scss","./src/app/base/uc.com/login/login.page.ts"],"names":[],"mappings":"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","file":"base-uc-com-login-login-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-title>登录</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content fullscreen scroll-y=\\\"false\\\">\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n        <ion-list-header text-center>\\r\\n            <img src=\\\"./assets/img/userhead.png\\\" />\\r\\n        </ion-list-header>\\r\\n        <ion-item>\\r\\n            <ion-icon slot=\\\"start\\\" name=\\\"phone-portrait\\\"></ion-icon>\\r\\n            <ion-input [(ngModel)]=\\\"mod.username\\\" placeholder=\\\"手机号码\\\" no-lines></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n            <ion-icon slot=\\\"start\\\" name=\\\"lock\\\"></ion-icon>\\r\\n            <ion-input [(ngModel)]=\\\"mod.password\\\" type=\\\"password\\\" placeholder=\\\"登录密码\\\"></ion-input>\\r\\n            <ion-toggle slot=\\\"end\\\"></ion-toggle>\\r\\n        </ion-item>\\r\\n        <ion-item color=\\\"none\\\">\\r\\n            <label slot=\\\"end\\\">记住密码</label>\\r\\n            <ion-toggle slot=\\\"end\\\"></ion-toggle>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n            <ion-label>登录环境</ion-label>\\r\\n            <ion-select value=\\\"localhost\\\" okText=\\\"确定\\\" cancelText=\\\"取消\\\" [(ngModel)]=\\\"mod.domainType\\\">\\r\\n                <ion-select-option value=\\\"localhost\\\">localhost</ion-select-option>\\r\\n                <ion-select-option value=\\\"Dev\\\">Dev</ion-select-option>\\r\\n                <ion-select-option value=\\\"Sit\\\">Sit</ion-select-option>\\r\\n                <ion-select-option value=\\\"Uat\\\">Uat</ion-select-option>\\r\\n                <ion-select-option value=\\\"Prod\\\">Prod</ion-select-option>\\r\\n            </ion-select>\\r\\n        </ion-item>\\r\\n        <ion-button expand=\\\"block\\\" type=\\\"button\\\" (click)=\\\"submit()\\\">登录</ion-button>\\r\\n    </ion-list>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { LoginPage } from './login.page';\nimport { HttpClientModule } from '@angular/common/http';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HttpClientModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"* {\\n  margin: 0px;\\n  padding: 0px;\\n}\\n\\nion-list {\\n  height: 100%;\\n  background-color: #f9f9f9;\\n}\\n\\nion-list ion-list-header {\\n  height: 35%;\\n  text-align: center;\\n}\\n\\nion-list ion-list-header img {\\n  left: 50%;\\n  position: relative;\\n  -webkit-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n  max-width: 50%;\\n  max-height: 50%;\\n}\\n\\nion-list ion-item {\\n  margin-top: 3px;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n}\\n\\nion-list ion-item:nth-child(-n+3) {\\n  border: 2px solid #e4e4e4;\\n}\\n\\nion-list ion-item:nth-child(-n+3) ion-icon {\\n  margin-left: -5px;\\n  font-size: 26px;\\n  color: #cccccc;\\n}\\n\\nion-list ion-item:nth-child(-n+3) ion-input {\\n  border: none;\\n}\\n\\nion-list ion-button {\\n  margin-top: 5px;\\n  margin-left: 25px;\\n  margin-right: 25px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYmFzZS91Yy5jb20vbG9naW4vRDpcXOW3peS9nOebruW9lVxc5b6u6L2v6aG555uuXFzku6PnoIFcXOenu+WKqOerr1xc56e75Yqo56uvKOato+W8j+mhueebrilcXERDRU0uTUFwcC9zcmNcXGFwcFxcYmFzZVxcdWMuY29tXFxsb2dpblxcbG9naW4ucGFnZS5zY3NzIiwic3JjL2FwcC9iYXNlL3VjLmNvbS9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQ0NGOztBRENBO0VBQ0UsWUFBQTtFQUNBLHlCQUFBO0FDRUY7O0FEQUU7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7QUNFSjs7QURESTtFQUNFLFNBQUE7RUFDQSxrQkFBQTtFQUNBLG1DQUFBO1VBQUEsMkJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtBQ0dOOztBREFFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUNFSjs7QURDRTtFQUNFLHlCQUFBO0FDQ0o7O0FEQUk7RUFDRSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FDRU47O0FEQUk7RUFDRSxZQUFBO0FDRU47O0FEQ0U7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvYmFzZS91Yy5jb20vbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiKiB7XHJcbiAgbWFyZ2luOiAwcHg7XHJcbiAgcGFkZGluZzogMHB4O1xyXG59XHJcbmlvbi1saXN0IHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0OSwgMjQ5LCAyNDkpO1xyXG5cclxuICBpb24tbGlzdC1oZWFkZXIge1xyXG4gICAgaGVpZ2h0OiAzNSU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBpbWcge1xyXG4gICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xyXG4gICAgICBtYXgtd2lkdGg6IDUwJTtcclxuICAgICAgbWF4LWhlaWdodDogNTAlO1xyXG4gICAgfVxyXG4gIH1cclxuICBpb24taXRlbSB7XHJcbiAgICBtYXJnaW4tdG9wOiAzcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICB9XHJcblxyXG4gIGlvbi1pdGVtOm50aC1jaGlsZCgtbiArIDMpIHtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYigyMjgsIDIyOCwgMjI4KTtcclxuICAgIGlvbi1pY29uIHtcclxuICAgICAgbWFyZ2luLWxlZnQ6IC01cHg7XHJcbiAgICAgIGZvbnQtc2l6ZTogMjZweDtcclxuICAgICAgY29sb3I6IHJnYigyMDQsIDIwNCwgMjA0KTtcclxuICAgIH1cclxuICAgIGlvbi1pbnB1dCB7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgIH1cclxuICB9XHJcbiAgaW9uLWJ1dHRvbiB7XHJcbiAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgICBtYXJnaW4tbGVmdDogMjVweDtcclxuICAgIG1hcmdpbi1yaWdodDogMjVweDtcclxuICB9XHJcbn1cclxuIiwiKiB7XG4gIG1hcmdpbjogMHB4O1xuICBwYWRkaW5nOiAwcHg7XG59XG5cbmlvbi1saXN0IHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xufVxuaW9uLWxpc3QgaW9uLWxpc3QtaGVhZGVyIHtcbiAgaGVpZ2h0OiAzNSU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbmlvbi1saXN0IGlvbi1saXN0LWhlYWRlciBpbWcge1xuICBsZWZ0OiA1MCU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICBtYXgtd2lkdGg6IDUwJTtcbiAgbWF4LWhlaWdodDogNTAlO1xufVxuaW9uLWxpc3QgaW9uLWl0ZW0ge1xuICBtYXJnaW4tdG9wOiAzcHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5pb24tbGlzdCBpb24taXRlbTpudGgtY2hpbGQoLW4rMykge1xuICBib3JkZXI6IDJweCBzb2xpZCAjZTRlNGU0O1xufVxuaW9uLWxpc3QgaW9uLWl0ZW06bnRoLWNoaWxkKC1uKzMpIGlvbi1pY29uIHtcbiAgbWFyZ2luLWxlZnQ6IC01cHg7XG4gIGZvbnQtc2l6ZTogMjZweDtcbiAgY29sb3I6ICNjY2NjY2M7XG59XG5pb24tbGlzdCBpb24taXRlbTpudGgtY2hpbGQoLW4rMykgaW9uLWlucHV0IHtcbiAgYm9yZGVyOiBub25lO1xufVxuaW9uLWxpc3QgaW9uLWJ1dHRvbiB7XG4gIG1hcmdpbi10b3A6IDVweDtcbiAgbWFyZ2luLWxlZnQ6IDI1cHg7XG4gIG1hcmdpbi1yaWdodDogMjVweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Dcem } from 'app/base/base.ser/Dcem.core';\r\n//import { AlertController, LoadingController, NavController } from '@ionic/angular';\r\n//import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\n\r\n\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.page.html',\r\n    styleUrls: ['./login.page.scss'],\r\n})\r\n\r\n\r\nexport class LoginPage implements OnInit {\r\n\r\n    // 定义控制器\r\n    constructor(\r\n        //private alertCtr: AlertController,\r\n        //private loadingCtr: LoadingController,\r\n        //private navCtr: NavController,\r\n        //private httpClient: HttpClient,\r\n        private _http: Dcem.Core.Http,\r\n        private _page: Dcem.Core.Page,\r\n        private _window: Dcem.Core.Window\r\n    ) {\r\n    }\r\n    // 定义模型\r\n    mod = {\r\n        username: '',\r\n        password: '',\r\n        apiurl: '',\r\n        domainType: '',\r\n        domain: ''\r\n    };\r\n\r\n\r\n    // 初始化\r\n    ngOnInit() {\r\n        // 加入测试参数\r\n        this.mod.username = 'subdevcrmadmin';\r\n        this.mod.password = 'password01#';\r\n        this.mod.apiurl = '/api/Account/GetAuthToken';\r\n        this.mod.domainType = 'local';\r\n    }\r\n\r\n    // 提交\r\n    submit() {\r\n        if (this.mod.username.length <= 0) {\r\n            this._page.alert('消息提示', '请输入手机号码');\r\n            return;\r\n        }\r\n        if (this.mod.password.length <= 0) {\r\n            this._page.alert('消息提示', '请输入密码');\r\n            return;\r\n        }\r\n\r\n        switch (this.mod.domainType) {\r\n            case 'Dev':\r\n                this.mod.domain = \"https://subcrmdevapi.sokon.com/dcem\";\r\n                break;\r\n            case 'Sit':\r\n                this.mod.domain = \"https://subcrmdevapi.sokon.com/dcem\";\r\n                break;\r\n            case 'Uat':\r\n                this.mod.domain = \"https://subcrmuatapi.sokon.com/dcem\";\r\n                break;\r\n            case 'Pro':\r\n                this.mod.domain = \"https://mscrm.sokon.com/dcem\";\r\n                break;\r\n            case 'localhost':\r\n                this.mod.domain = \"http://localhost:52151\";\r\n                break;\r\n            default:\r\n                this.mod.domain = \"http://localhost:9099\";\r\n                break;\r\n        }\r\n\r\n        this._window.storageSet(\"apiDomainUrl\", this.mod.domain);\r\n\r\n\r\n        this._page.loadingShow();\r\n        this._http.get(\r\n            this.mod.apiurl,\r\n            {\r\n                params: {\r\n                    username: encodeURIComponent(this.mod.username),\r\n                    password: encodeURIComponent(this.mod.password)\r\n                }\r\n            },\r\n            (res: any) => {\r\n                console.log(res);\r\n                this._page.loadingHide();\r\n                this._page.alert('消息提示', '登录认证成功');\r\n                this._page.goto(\"serving/home/tabs\");\r\n                //this.navCtr.navigateRoot('serving/home/tabs');\r\n            },\r\n            (err: any) => {\r\n                this._page.loadingHide();\r\n                //this._page.goto(\"serving/home/tabs\");\r\n                this._page.alert('消息提示', '登录认证失败');\r\n\r\n            }\r\n        );\r\n        //this.httpGet();\r\n    }\r\n\r\n\r\n\r\n    // http请求\r\n    //httpGet() {\r\n    //    const loading = this.loadingCtr.create({ translucent: false });\r\n    //    loading.then(a => { a.present(); });\r\n    //    const httpGet = this.httpClient.get(this.apiurl,\r\n    //        {\r\n    //            params: {\r\n    //                username: encodeURIComponent(this.mod.username),\r\n    //                password: encodeURIComponent(this.mod.password)\r\n    //            }\r\n    //        });\r\n\r\n    //    httpGet.subscribe(\r\n    //        (res: any) => {\r\n    //            console.log(res);\r\n    //            if (res.access_token === null || res.access_token === '') {\r\n    //                this.presentAlert('消息提示', '登录认证失败');\r\n    //            } else {\r\n    //                //this.presentAlert('消息提示', 'token:' + res.access_token);\r\n    //                console.log(res);\r\n    //                //this.presentAlert('消息提示', '登录认证通过'); \r\n    //                this.navCtr.navigateRoot('serving/home/tabs');\r\n    //            }\r\n    //            loading.then(a => { a.dismiss(); });\r\n    //        },\r\n    //        (err: any) => {\r\n    //            this.presentAlert('消息提示', '登录认证失败11');\r\n    //            loading.then(a => { a.dismiss(); });\r\n    //        });\r\n    //}\r\n\r\n    //// 弹出提示\r\n    //presentAlert(header: any, message: any) {\r\n    //    const alert = this.alertCtr.create({\r\n    //        header,\r\n    //        message,\r\n    //        buttons: ['确定']\r\n    //    });\r\n    //    alert.then(a => {\r\n    //        a.present();\r\n    //    });\r\n    //}\r\n}\r\n"],"sourceRoot":""}