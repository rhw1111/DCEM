{"version":3,"sources":["./src/app/base/uc.com/login/login.page.html","./src/app/base/base.ser/Dcem.core.ts","./src/app/base/uc.com/login/login.module.ts","./src/app/base/uc.com/login/login.page.scss","./src/app/base/uc.com/login/login.page.ts"],"names":[],"mappings":"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","file":"base-uc-com-login-login-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-title>登录</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content fullscreen scroll-y=\\\"false\\\">\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n        <ion-list-header text-center>\\r\\n            <img src=\\\"./assets/img/login.jpg\\\" />\\r\\n        </ion-list-header>\\r\\n        <ion-item>\\r\\n            <ion-icon slot=\\\"start\\\" name=\\\"phone-portrait\\\"></ion-icon>\\r\\n            <ion-input [(ngModel)]=\\\"mod.username\\\" placeholder=\\\"手机号码\\\" no-lines></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n            <ion-icon slot=\\\"start\\\" name=\\\"lock\\\"></ion-icon>\\r\\n            <ion-input [(ngModel)]=\\\"mod.password\\\" type=\\\"password\\\" placeholder=\\\"登录密码\\\"></ion-input>\\r\\n            <ion-toggle slot=\\\"end\\\"></ion-toggle>\\r\\n        </ion-item>\\r\\n        <ion-item color=\\\"none\\\">\\r\\n            <label slot=\\\"end\\\">记住密码</label>\\r\\n            <ion-toggle slot=\\\"end\\\"></ion-toggle>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n            <ion-label>登录环境</ion-label>\\r\\n            <ion-select value=\\\"localhost\\\" okText=\\\"确定\\\" cancelText=\\\"取消\\\" [(ngModel)]=\\\"mod.domainType\\\">\\r\\n                <ion-select-option value=\\\"localhost\\\">localhost</ion-select-option>\\r\\n                <ion-select-option value=\\\"Dev\\\">Dev</ion-select-option>\\r\\n                <ion-select-option value=\\\"Sit\\\">Sit</ion-select-option>\\r\\n                <ion-select-option value=\\\"Uat\\\">Uat</ion-select-option>\\r\\n                <ion-select-option value=\\\"Prod\\\">Prod</ion-select-option>\\r\\n            </ion-select>\\r\\n        </ion-item>\\r\\n        <ion-button expand=\\\"block\\\" type=\\\"button\\\" (click)=\\\"submit()\\\">登录</ion-button>\\r\\n    </ion-list>\\r\\n</ion-content>\"","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { AlertController, LoadingController, NavController } from '@ionic/angular';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DCore_Window {\r\n    storageSet(key: any, val: any) {\r\n        window.localStorage.setItem(key, val);\r\n    }\r\n    storageGet(key: any) {\r\n        return window.localStorage.getItem(key);\r\n    }\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DCore_Config {\r\n    public serverUrl: string;\r\n    constructor(\r\n        private _window: DCore_Window\r\n    ) {\r\n        this.serverUrl = _window.storageGet(\"apiDomainUrl\");\r\n    }\r\n\r\n\r\n    getDomain() {\r\n        this.serverUrl = this._window.storageGet(\"apiDomainUrl\");\r\n        return this.serverUrl;\r\n    }\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DCore_Http {\r\n    constructor(\r\n        private _httpClient: HttpClient,\r\n        private _config: DCore_Config\r\n    ) {\r\n    }\r\n    //get请求\r\n    get(url: string, params: any, rescallback?: (res: any) => void, errcallback?: (err: any) => void): void {\r\n        console.log(this._config.getDomain() + url);\r\n        this._httpClient.get(this._config.getDomain() + url, params).subscribe(\r\n            (res: any) => {\r\n                rescallback && rescallback(res);\r\n            },\r\n            (err: any) => {\r\n                errcallback && errcallback(err);\r\n            });\r\n    }\r\n}\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class DCore_Page {\r\n\r\n    constructor(\r\n        private alertCtr: AlertController,\r\n        private loadingCtr: LoadingController,\r\n        private navCtr: NavController,\r\n        private router: Router,\r\n        private activeRoute: ActivatedRoute\r\n    ) {\r\n\r\n    }\r\n\r\n    //弹出提示\r\n    alert(header: any, message: any) {\r\n        const alert = this.alertCtr.create({\r\n            header,\r\n            message,\r\n            buttons: ['确定']\r\n        });\r\n        alert.then(a => {\r\n            a.present();\r\n        });\r\n    }\r\n\r\n    //等待动画\r\n    private loading: any;\r\n    //打开等待动画\r\n    loadingShow() {\r\n        if (this.loading !== null) {\r\n            this.loading = this.loadingCtr.create({ translucent: true });\r\n        }\r\n        this.loading.then(a => { a.present(); });\r\n    }\r\n    //关闭等待动画\r\n    loadingHide() {\r\n        if (this.loading !== null) {\r\n            this.loading.then(a => { a.dismiss(); });\r\n        }\r\n    }\r\n\r\n    //跳转到指定页\r\n    goto(url: any, params?: any) {\r\n        if (params === null) {\r\n            params = {};\r\n        }\r\n        //this.navCtr.navigateRoot(url);\r\n        this.router.navigate([url], params);\r\n    }\r\n\r\n    //获取指定参数\r\n    //getParams(paramName: string, callback?: (val: Params) => void) {\r\n    //    this.activeRoute.queryParams.subscribe((params: Params) => {\r\n    //        callback(params[paramName]);\r\n    //    });\r\n    //}\r\n}\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { LoginPage } from './login.page';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HttpClientModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","module.exports = \"* {\\n  margin: 0px;\\n  padding: 0px; }\\n\\nion-list {\\n  height: 100%;\\n  background-color: #f9f9f9; }\\n\\nion-list ion-list-header {\\n    height: 50%;\\n    text-align: center; }\\n\\nion-list ion-list-header img {\\n      left: 50%;\\n      position: relative;\\n      -webkit-transform: translateX(-50%);\\n              transform: translateX(-50%);\\n      max-width: 100%;\\n      max-height: 100%; }\\n\\nion-list ion-item {\\n    margin-top: 3px;\\n    margin-left: 10px;\\n    margin-right: 10px; }\\n\\nion-list ion-item:nth-child(-n + 3) {\\n    border: 2px solid #e4e4e4; }\\n\\nion-list ion-item:nth-child(-n + 3) ion-icon {\\n      margin-left: -5px;\\n      font-size: 26px;\\n      color: #cccccc; }\\n\\nion-list ion-item:nth-child(-n + 3) ion-input {\\n      border: none; }\\n\\nion-list ion-button {\\n    margin-top: 5px;\\n    margin-left: 25px;\\n    margin-right: 25px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYmFzZS91Yy5jb20vbG9naW4vRTpcXEFwcFByb2plY3RcXERDRU1cXERDRU0uTUFwcC9zcmNcXGFwcFxcYmFzZVxcdWMuY29tXFxsb2dpblxcbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQTs7QUFFZDtFQUNJLFlBQVk7RUFDWix5QkFBb0MsRUFBQTs7QUFGeEM7SUFLUSxXQUFXO0lBQ1gsa0JBQWtCLEVBQUE7O0FBTjFCO01BU1ksU0FBUztNQUNULGtCQUFrQjtNQUNsQixtQ0FBMkI7Y0FBM0IsMkJBQTJCO01BQzNCLGVBQWU7TUFDZixnQkFBZ0IsRUFBQTs7QUFiNUI7SUFrQlEsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixrQkFBa0IsRUFBQTs7QUFwQjFCO0lBd0JRLHlCQUFvQyxFQUFBOztBQXhCNUM7TUEyQlksaUJBQWlCO01BQ2pCLGVBQWU7TUFDZixjQUF5QixFQUFBOztBQTdCckM7TUFpQ1ksWUFBWSxFQUFBOztBQWpDeEI7SUFzQ1EsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixrQkFBa0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2Jhc2UvdWMuY29tL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIioge1xyXG4gIG1hcmdpbjogMHB4O1xyXG4gIHBhZGRpbmc6IDBweDtcclxufVxyXG5pb24tbGlzdCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ5LCAyNDksIDI0OSk7XHJcblxyXG4gICAgaW9uLWxpc3QtaGVhZGVyIHtcclxuICAgICAgICBoZWlnaHQ6IDUwJTtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblxyXG4gICAgICAgIGltZyB7XHJcbiAgICAgICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XHJcbiAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgbWF4LWhlaWdodDogMTAwJTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW9uLWl0ZW0ge1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDNweDtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgaW9uLWl0ZW06bnRoLWNoaWxkKC1uICsgMykge1xyXG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYigyMjgsIDIyOCwgMjI4KTtcclxuXHJcbiAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogLTVweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyNnB4O1xyXG4gICAgICAgICAgICBjb2xvcjogcmdiKDIwNCwgMjA0LCAyMDQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW9uLWlucHV0IHtcclxuICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpb24tYnV0dG9uIHtcclxuICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDI1cHg7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyNXB4O1xyXG4gICAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { DCore_Http, DCore_Page, DCore_Window } from 'app/base/base.ser/Dcem.core';\r\n\r\n@Component({\r\n    selector: 'app-login',\r\n    templateUrl: './login.page.html',\r\n    styleUrls: ['./login.page.scss'],\r\n})\r\n\r\nexport class LoginPage implements OnInit {\r\n\r\n    // 定义控制器\r\n    constructor(\r\n        private _http: DCore_Http,\r\n        private _page: DCore_Page,\r\n        private _window: DCore_Window\r\n    ) {\r\n    }\r\n    // 定义模型\r\n    mod = {\r\n        username: '',\r\n        password: '',\r\n        apiurl: '',\r\n        domainType: '',\r\n        domain: ''\r\n    };\r\n\r\n\r\n    // 初始化\r\n    ngOnInit() {\r\n        // 加入测试参数\r\n        this.mod.username = 'subdevcrmadmin';\r\n        this.mod.password = 'password01#';\r\n        this.mod.apiurl = '/api/Account/GetAuthToken';\r\n        this.mod.domainType = 'local';\r\n    }\r\n\r\n    // 提交\r\n    submit() {\r\n        if (this.mod.username.length <= 0) {\r\n            this._page.alert('消息提示', '请输入手机号码');\r\n            return;\r\n        }\r\n        if (this.mod.password.length <= 0) {\r\n            this._page.alert('消息提示', '请输入密码');\r\n            return;\r\n        }\r\n\r\n        switch (this.mod.domainType) {\r\n            case 'Dev':\r\n                this.mod.domain = \"https://subcrmdevapi.sokon.com/dcem\";\r\n                break;\r\n            case 'Sit':\r\n                this.mod.domain = \"https://subcrmdevapi.sokon.com/dcem\";\r\n                break;\r\n            case 'Uat':\r\n                this.mod.domain = \"https://subcrmuatapi.sokon.com/dcem\";\r\n                break;\r\n            case 'Pro':\r\n                this.mod.domain = \"https://mscrm.sokon.com/dcem\";\r\n                break;\r\n            case 'localhost':\r\n                this.mod.domain = \"http://localhost:52151\";\r\n                break;\r\n            default:\r\n                this.mod.domain = \"http://localhost:9099\";\r\n                break;\r\n        }\r\n\r\n        this._window.storageSet(\"apiDomainUrl\", this.mod.domain);\r\n\r\n\r\n        this._page.loadingShow();\r\n        this._http.get(\r\n            this.mod.apiurl,\r\n            {\r\n                params: {\r\n                    username: encodeURIComponent(this.mod.username),\r\n                    password: encodeURIComponent(this.mod.password)\r\n                }\r\n            },\r\n            (res: any) => {\r\n                console.log(res);\r\n                this._page.loadingHide();\r\n                this._page.alert('消息提示', '登录认证成功');\r\n                this._page.goto(\"serving/home/tabs\");\r\n                //this.navCtr.navigateRoot('serving/home/tabs');\r\n            },\r\n            (err: any) => {\r\n                this._page.loadingHide();\r\n                //this._page.goto(\"serving/home/tabs\");\r\n                this._page.alert('消息提示', '登录认证失败');\r\n\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}