{"version":3,"sources":["./src/app/saleing/lead.com/list/list.page.html","./src/app/saleing/lead.com/list/list.module.ts","./src/app/saleing/lead.com/list/list.page.scss","./src/app/saleing/lead.com/list/list.page.ts"],"names":[],"mappings":"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","file":"saleing-lead-com-list-list-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button text=\\\"返回\\\" defaultHref=\\\"/serving/home/index\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>我的留资</ion-title>\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n                <ion-menu-button></ion-menu-button>\\r\\n            </ion-buttons>\\r\\n    </ion-toolbar>\\r\\n    <ion-toolbar>\\r\\n        <ion-searchbar animated [(ngModel)]=\\\"mod.searchData.search\\\" placeholder=\\\"请输入姓名\\\\手机号搜索\\\"\\r\\n            (keyup)=\\\"searchOnKeyup($event)\\\"></ion-searchbar>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n    <!-- <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n        <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" pullingText=\\\"下拉刷新\\\" refreshingSpinner=\\\"circles\\\"\\r\\n            refreshingText=\\\"刷新中...\\\">\\r\\n        </ion-refresher-content>\\r\\n    </ion-refresher> -->\\r\\n    <ion-list lines=\\\"full\\\">\\r\\n        <ion-item-sliding *ngFor=\\\"let item of mod.data;let key=index\\\">\\r\\n            <ion-item [routerLink]=\\\"['/saleing/lead/detail']\\\" [queryParams]=\\\"{id:item.Id}\\\">\\r\\n                <ion-icon *ngIf=\\\"item.gender==1\\\" slot=\\\"start\\\" color=\\\"primary\\\" name=\\\"contact\\\" size=\\\"large\\\"></ion-icon>\\r\\n                <ion-icon *ngIf=\\\"item.gender==2\\\" slot=\\\"start\\\" color=\\\"danger\\\" name=\\\"contact\\\" size=\\\"large\\\"></ion-icon>\\r\\n                <ion-icon *ngIf=\\\"item.gender==3\\\" slot=\\\"start\\\" color=\\\"medium\\\" name=\\\"contact\\\" size=\\\"large\\\"></ion-icon>\\r\\n                <ion-icon *ngIf=\\\"!item.gender\\\" slot=\\\"start\\\" color=\\\"medium\\\" name=\\\"contact\\\" size=\\\"large\\\"></ion-icon>\\r\\n                <ion-label>\\r\\n                    <h2>{{item.username}}</h2>\\r\\n                    <ion-icon *ngIf=\\\"item.mobilephone\\\" name=\\\"phone-portrait\\\" size=\\\"small\\\"></ion-icon>\\r\\n                    <ion-note slot=\\\"end\\\">\\r\\n                        {{item.mobilephone}}\\r\\n                    </ion-note>\\r\\n                    <p> 线索来源：{{item.clues}}</p>\\r\\n                </ion-label>\\r\\n            </ion-item>\\r\\n            <ion-item-options side=\\\"end\\\">\\r\\n                <ion-item-option color=\\\"tertiary\\\" expandable [routerLink]=\\\"['/saleing/lead/detail']\\\"\\r\\n                    [queryParams]=\\\"{id:item.Id}\\\">\\r\\n                    详情\\r\\n                </ion-item-option>\\r\\n            </ion-item-options>\\r\\n        </ion-item-sliding>\\r\\n    </ion-list> \\r\\n    <ion-label *ngIf=\\\"this.mod.isending\\\" text-center>\\r\\n            <p>\\r\\n              没有更多的记录显示啦\\r\\n            </p>\\r\\n          </ion-label>\\r\\n    <ion-infinite-scroll #myInfiniteScroll threshold=\\\"100px\\\" (ionInfinite)=\\\"doLoading($event)\\\">\\r\\n        <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"加载更多...\\\">\\r\\n        </ion-infinite-scroll-content>\\r\\n    </ion-infinite-scroll>\\r\\n    <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n        <ion-fab-button [routerLink]=\\\"['/saleing/lead/edit']\\\">\\r\\n            <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n        </ion-fab-button>\\r\\n    </ion-fab>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListPage } from './list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ListPage]\n})\nexport class ListPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NhbGVpbmcvbGVhZC5jb20vbGlzdC9saXN0LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit,ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DCore_Page, DCore_Http } from 'app/base/base.ser/Dcem.core';\r\nimport { Storage_LoginInfo } from 'app/base/base.ser/logininfo.storage';\r\nimport { debug } from 'util';\r\nimport { IonInfiniteScroll } from '@ionic/angular';\r\nimport { OptionSetService } from '../../../base/base.ser/optionset.service';\r\n@Component({\r\n  selector: 'app-list',\r\n  templateUrl: './list.page.html',\r\n  styleUrls: ['./list.page.scss'],\r\n})\r\nexport class ListPage implements OnInit {\r\n  @ViewChild(IonInfiniteScroll, null) infiniteScroll: IonInfiniteScroll;\r\n  public mod:any = {\r\n    apiUrl: '/api/Originalclue/getlist',\r\n    data: [],\r\n    isending:false,\r\n    searchData: { \r\n        pageindex: 1,\r\n        pagesize:10,\r\n        search:\"\",\r\n        userId:this._userinfo.GetSystemUserId(),\r\n        dealerid:this._userinfo.GetDealerid()\r\n    }\r\n};\r\n  constructor(  \r\n    private _http: DCore_Http,\r\n    private _page: DCore_Page,\r\n    private _userinfo:Storage_LoginInfo,\r\n    private _optionset: OptionSetService,) { \r\n  }\r\n\r\n  ngOnInit() { \r\n    this.listOnBind(null);\r\n  }\r\n  //下拉刷新\r\n  doRefresh(event) { \r\n    this.mod.data = [];\r\n    this.mod.isending = false;\r\n    this.mod.searchData.pageindex = 1; \r\n    this.listOnBind(event);\r\n}\r\n//加载下一页\r\ndoLoading(event) { \r\n    this.mod.searchData.pageindex++;\r\n    this.mod.isending = false; \r\n    this.listOnBind(event); \r\n}\r\n//搜索\r\n  searchOnKeyup(event) {\r\n    var keyCode = event ? event.keyCode : \"\";\r\n    if (keyCode == 13) {\r\n      this.mod.data = [];\r\n        this.listOnBind(null);\r\n    }\r\n  }\r\nlistOnBind(event) {\r\n  this._page.loadingShow();\r\n  this._http.postForToaken(\r\n      this.mod.apiUrl,\r\n      this.mod.searchData,\r\n      (res: any) => { \r\n          if (res.Results !== null) {\r\n            var data=res.originalclues;\r\n              for (var i in data) { \r\n                var attr=data[i][\"Attributes\"];\r\n                  var obj = {}; \r\n                  obj[\"username\"]=attr[\"fullname\"]; \r\n                  obj[\"gender\"]=attr[\"mcs_gender\"]; \r\n                  obj[\"mobilephone\"]=attr[\"mobilephone\"]; \r\n                  obj[\"clues\"]= this._optionset.GetOptionSetNameByValue(\"mcs_leadorigin\",attr[\"mcs_leadorigin\"]);\r\n                  obj[\"Id\"]=data[i][\"Id\"];\r\n                  this.mod.data.push(obj);\r\n              }\r\n              event ? event.target.complete() : ''; \r\n              if (data.length < this.mod.searchData.pagesize) { \r\n                if(this.mod.searchData.pageindex>1){\r\n                  event ? event.target.disabled = true : \"\";\r\n                  this.mod.isending = true;\r\n                }\r\n            }\r\n              this._page.loadingHide();\r\n          }\r\n          else {\r\n              this._page.alert(\"消息提示\", \"原始线索数据加载异常\");\r\n          }\r\n          this._page.loadingHide();\r\n      },\r\n      (err: any) => {\r\n          this._page.alert(\"消息提示\", \"原始线索数据加载异常\");\r\n          this._page.loadingHide();\r\n      }\r\n  );\r\n}\r\n}\r\n"],"sourceRoot":""}